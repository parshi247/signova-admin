<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signova Admin Center - Executive Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: bold;
            color: #4f46e5;
            text-decoration: none;
        }

        .admin-badge {
            background: #ef4444;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: #4f46e5;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .dashboard-title {
            color: white;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .dashboard-subtitle {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
            margin-bottom: 3rem;
            text-align: center;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .nav-tab {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            text-decoration: none;
        }

        .nav-tab:hover, .nav-tab.active {
            background: rgba(255, 255, 255, 0.95);
            color: #4f46e5;
            border-color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border-left: 4px solid;
            position: relative;
        }

        .metric-card.revenue { border-left-color: #10b981; }
        .metric-card.users { border-left-color: #3b82f6; }
        .metric-card.documents { border-left-color: #8b5cf6; }
        .metric-card.conversion { border-left-color: #f59e0b; }
        .metric-card.marketing { border-left-color: #ef4444; }
        .metric-card.campaigns { border-left-color: #06b6d4; }
        .metric-card.leads { border-left-color: #84cc16; }
        .metric-card.roi { border-left-color: #f97316; }

        .metric-title {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .metric-change {
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .metric-change.positive { color: #10b981; }
        .metric-change.negative { color: #ef4444; }

        .live-indicator {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .sections-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .section-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .section-item:last-child {
            border-bottom: none;
        }

        .item-info h4 {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .item-info p {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .btn {
            background: #4f46e5;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn:hover {
            background: #4338ca;
            transform: translateY(-1px);
        }

        .btn.secondary {
            background: #6b7280;
        }

        .btn.secondary:hover {
            background: #4b5563;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: #f9fafb;
            border-radius: 8px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .status-indicator.operational { background: #10b981; }
        .status-indicator.warning { background: #f59e0b; }
        .status-indicator.issues { background: #ef4444; }

        .back-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            color: #4f46e5;
            border: 2px solid #4f46e5;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }

        .back-button:hover {
            background: #4f46e5;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
        }

        .chart-container {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
        }

        .loading {
            color: #6b7280;
            font-style: italic;
        }

        .error {
            color: #ef4444;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .dashboard-title {
                font-size: 2rem;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .sections-grid {
                grid-template-columns: 1fr;
            }

            .nav-tabs {
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .nav-tab {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <a href="https://signova.ai" class="back-button">‚Üê Back to Main Site</a>
    
    <header class="header">
        <a href="https://signova.ai" class="logo">
            <span style="background: #4f46e5; color: white; padding: 0.5rem; border-radius: 8px;">S</span>
            Signova
            <span class="admin-badge">ADMIN CENTER</span>
        </a>
        <div class="user-info">
            <span style="background: white; color: #4f46e5; padding: 0.25rem 0.5rem; border-radius: 50%; font-weight: bold;">A</span>
            Administrator
        </div>
    </header>

    <div class="container">
        <h1 class="dashboard-title">Executive Dashboard</h1>
        <p class="dashboard-subtitle">Monitor and manage your Signova electronic signature platform with AI-powered marketing analytics</p>

        <div class="nav-tabs">
            <a href="#" class="nav-tab active" onclick="showTab('overview')">üìä Overview</a>
            <a href="#" class="nav-tab" onclick="showTab('marketing')">üöÄ AI Marketing</a>
            <a href="#" class="nav-tab" onclick="showTab('users')">üë• Users</a>
            <a href="#" class="nav-tab" onclick="showTab('system')">‚öôÔ∏è System</a>
        </div>

        <!-- Overview Tab -->
        <div id="overview" class="tab-content active">
            <div class="metrics-grid">
                <div class="metric-card revenue">
                    <div class="live-indicator"></div>
                    <div class="metric-title">Monthly Revenue</div>
                    <div class="metric-value" style="color: #10b981;" id="revenue-value">Loading...</div>
                    <div class="metric-change" id="revenue-change">Fetching real-time data...</div>
                </div>
                
                <div class="metric-card users">
                    <div class="live-indicator"></div>
                    <div class="metric-title">Active Users</div>
                    <div class="metric-value" style="color: #3b82f6;" id="users-value">Loading...</div>
                    <div class="metric-change" id="users-change">Fetching real-time data...</div>
                </div>
                
                <div class="metric-card documents">
                    <div class="live-indicator"></div>
                    <div class="metric-title">Documents Signed</div>
                    <div class="metric-value" style="color: #8b5cf6;" id="documents-value">Loading...</div>
                    <div class="metric-change" id="documents-change">Fetching real-time data...</div>
                </div>
                
                <div class="metric-card conversion">
                    <div class="live-indicator"></div>
                    <div class="metric-title">Conversion Rate</div>
                    <div class="metric-value" style="color: #f59e0b;" id="conversion-value">Loading...</div>
                    <div class="metric-change" id="conversion-change">Fetching real-time data...</div>
                </div>
            </div>
        </div>

        <!-- AI Marketing Tab -->
        <div id="marketing" class="tab-content">
            <div class="metrics-grid">
                <div class="metric-card marketing">
                    <div class="live-indicator"></div>
                    <div class="metric-title">Marketing ROI</div>
                    <div class="metric-value" style="color: #ef4444;" id="marketing-roi">Loading...</div>
                    <div class="metric-change" id="marketing-roi-change">Connecting to AI platform...</div>
                </div>
                
                <div class="metric-card campaigns">
                    <div class="live-indicator"></div>
                    <div class="metric-title">Active Campaigns</div>
                    <div class="metric-value" style="color: #06b6d4;" id="active-campaigns">Loading...</div>
                    <div class="metric-change" id="campaigns-change">Connecting to AI platform...</div>
                </div>
                
                <div class="metric-card leads">
                    <div class="live-indicator"></div>
                    <div class="metric-title">Qualified Leads</div>
                    <div class="metric-value" style="color: #84cc16;" id="qualified-leads">Loading...</div>
                    <div class="metric-change" id="leads-change">Connecting to AI platform...</div>
                </div>
                
                <div class="metric-card roi">
                    <div class="live-indicator"></div>
                    <div class="metric-title">Cost Per Acquisition</div>
                    <div class="metric-value" style="color: #f97316;" id="cpa-value">Loading...</div>
                    <div class="metric-change" id="cpa-change">Connecting to AI platform...</div>
                </div>
            </div>

            <div class="sections-grid">
                <div class="section-card">
                    <h3 class="section-title">üéØ Campaign Performance</h3>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>DocuSign Competitor Campaign</h4>
                            <p id="campaign-1-status">Loading campaign data...</p>
                        </div>
                        <button class="btn" onclick="viewCampaign('docusign-competitor')">View Details</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Enterprise Lead Generation</h4>
                            <p id="campaign-2-status">Loading campaign data...</p>
                        </div>
                        <button class="btn" onclick="viewCampaign('enterprise-leads')">View Details</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>SMB Acquisition Campaign</h4>
                            <p id="campaign-3-status">Loading campaign data...</p>
                        </div>
                        <button class="btn secondary" onclick="viewCampaign('smb-acquisition')">View Details</button>
                    </div>
                </div>

                <div class="section-card">
                    <h3 class="section-title">ü§ñ AI Insights & Predictions</h3>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Revenue Forecast</h4>
                            <p id="revenue-forecast">Loading AI predictions...</p>
                        </div>
                        <button class="btn" onclick="viewForecast()">View Model</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Lead Scoring Model</h4>
                            <p id="lead-scoring">Loading AI analysis...</p>
                        </div>
                        <button class="btn" onclick="viewLeadScoring()">Analyze</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Optimization Recommendations</h4>
                            <p id="optimization-recs">Loading AI recommendations...</p>
                        </div>
                        <button class="btn secondary" onclick="viewOptimizations()">Review</button>
                    </div>
                </div>

                <div class="section-card">
                    <h3 class="section-title">üìà Real-time Marketing Analytics</h3>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Website Traffic Attribution</h4>
                            <p id="traffic-attribution">Loading traffic data...</p>
                        </div>
                        <button class="btn" onclick="viewTraffic()">View Sources</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Social Media Monitoring</h4>
                            <p id="social-monitoring">Loading social data...</p>
                        </div>
                        <button class="btn" onclick="viewSocial()">Monitor</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Competitive Intelligence</h4>
                            <p id="competitive-intel">Loading competitor data...</p>
                        </div>
                        <button class="btn secondary" onclick="viewCompetitors()">Analyze</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Users Tab -->
        <div id="users" class="tab-content">
            <div class="sections-grid">
                <div class="section-card">
                    <h3 class="section-title">üë• User Management</h3>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>View All Users</h4>
                            <p>Manage user accounts and permissions</p>
                        </div>
                        <button class="btn">Access Portal</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Pending Registrations</h4>
                            <p id="pending-registrations">Loading registration data...</p>
                        </div>
                        <button class="btn">Review</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Export User Data</h4>
                            <p>Generate user analytics report</p>
                        </div>
                        <button class="btn secondary">Export</button>
                    </div>
                </div>

                <div class="section-card">
                    <h3 class="section-title">üìä Analytics & Reports</h3>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Revenue Analytics</h4>
                            <p>Detailed financial performance</p>
                        </div>
                        <button class="btn">View Report</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Usage Statistics</h4>
                            <p>Document signing trends</p>
                        </div>
                        <button class="btn">Analyze</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Performance Metrics</h4>
                            <p>System performance overview</p>
                        </div>
                        <button class="btn secondary">Monitor</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- System Tab -->
        <div id="system" class="tab-content">
            <div class="sections-grid">
                <div class="section-card">
                    <h3 class="section-title">‚öôÔ∏è System Administration</h3>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Server Management</h4>
                            <p>Monitor all services</p>
                        </div>
                        <button class="btn">Manage</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Security Settings</h4>
                            <p>Configure security policies</p>
                        </div>
                        <button class="btn">Configure</button>
                    </div>
                    
                    <div class="section-item">
                        <div class="item-info">
                            <h4>Backup & Recovery</h4>
                            <p>Data backup management</p>
                        </div>
                        <button class="btn secondary">Backup</button>
                    </div>
                </div>
            </div>

            <div class="section-card">
                <h3 class="section-title">üîß System Status</h3>
                <p style="color: #6b7280; margin-bottom: 1rem;">Real-time status of all Signova platform services</p>
                
                <div class="status-grid">
                    <div class="status-item">
                        <div style="display: flex; align-items: center;">
                            <div class="status-indicator operational"></div>
                            <div>
                                <strong>Main Website</strong><br>
                                <small>(signova.ai)</small>
                            </div>
                        </div>
                        <span style="color: #10b981; font-weight: 600;">operational</span>
                    </div>
                    
                    <div class="status-item">
                        <div style="display: flex; align-items: center;">
                            <div class="status-indicator operational"></div>
                            <div>
                                <strong>User Portal</strong><br>
                                <small>(portal.signova.ai)</small>
                            </div>
                        </div>
                        <span style="color: #10b981; font-weight: 600;">operational</span>
                    </div>
                    
                    <div class="status-item">
                        <div style="display: flex; align-items: center;">
                            <div class="status-indicator operational"></div>
                            <div>
                                <strong>Admin Center</strong><br>
                                <small>(admin.signova.ai)</small>
                            </div>
                        </div>
                        <span style="color: #10b981; font-weight: 600;">operational</span>
                    </div>
                    
                    <div class="status-item">
                        <div style="display: flex; align-items: center;">
                            <div class="status-indicator" id="marketing-status"></div>
                            <div>
                                <strong>AI Marketing Platform</strong><br>
                                <small>(45.55.212.255)</small>
                            </div>
                        </div>
                        <span id="marketing-status-text">checking...</span>
                    </div>
                    
                    <div class="status-item">
                        <div style="display: flex; align-items: center;">
                            <div class="status-indicator operational"></div>
                            <div>
                                <strong>Backend API</strong><br>
                                <small>(api.signova.ai)</small>
                            </div>
                        </div>
                        <span style="color: #10b981; font-weight: 600;">operational</span>
                    </div>
                    
                    <div class="status-item">
                        <div style="display: flex; align-items: center;">
                            <div class="status-indicator operational"></div>
                            <div>
                                <strong>Payment System</strong><br>
                                <small>(Stripe Integration)</small>
                            </div>
                        </div>
                        <span style="color: #10b981; font-weight: 600;">operational</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(tab => tab.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.nav-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
            
            // Load data for the selected tab
            loadTabData(tabName);
        }

        // API configuration
        const API_CONFIG = {
            marketingPlatform: 'http://45.55.212.255',
            signovaAPI: 'https://api.signova.ai',
            refreshInterval: 30000 // 30 seconds
        };

        // Data loading functions
        async function loadTabData(tabName) {
            switch(tabName) {
                case 'overview':
                    await loadOverviewData();
                    break;
                case 'marketing':
                    await loadMarketingData();
                    break;
                case 'users':
                    await loadUserData();
                    break;
                case 'system':
                    await loadSystemData();
                    break;
            }
        }

        async function loadOverviewData() {
            try {
                // Simulate API calls to real endpoints
                const [revenue, users, documents, conversion] = await Promise.allSettled([
                    fetchWithFallback('/api/revenue/current'),
                    fetchWithFallback('/api/users/active'),
                    fetchWithFallback('/api/documents/signed'),
                    fetchWithFallback('/api/conversion/rate')
                ]);

                updateMetric('revenue-value', revenue.value?.amount || 'API Unavailable', 
                           'revenue-change', revenue.value?.change || 'Connecting to live data...');
                
                updateMetric('users-value', users.value?.count || 'API Unavailable',
                           'users-change', users.value?.change || 'Connecting to live data...');
                
                updateMetric('documents-value', documents.value?.total || 'API Unavailable',
                           'documents-change', documents.value?.change || 'Connecting to live data...');
                
                updateMetric('conversion-value', conversion.value?.rate || 'API Unavailable',
                           'conversion-change', conversion.value?.change || 'Connecting to live data...');

            } catch (error) {
                console.error('Error loading overview data:', error);
                showDataError('overview');
            }
        }

        async function loadMarketingData() {
            try {
                // Connect to AI Marketing Platform
                const [roi, campaigns, leads, cpa] = await Promise.allSettled([
                    fetchMarketingAPI('/api/analytics/roi'),
                    fetchMarketingAPI('/api/campaigns/active'),
                    fetchMarketingAPI('/api/leads/qualified'),
                    fetchMarketingAPI('/api/analytics/cpa')
                ]);

                updateMetric('marketing-roi', roi.value?.roi || 'Connecting...', 
                           'marketing-roi-change', roi.value?.change || 'AI platform initializing...');
                
                updateMetric('active-campaigns', campaigns.value?.count || 'Connecting...',
                           'campaigns-change', campaigns.value?.status || 'AI platform initializing...');
                
                updateMetric('qualified-leads', leads.value?.count || 'Connecting...',
                           'leads-change', leads.value?.change || 'AI platform initializing...');
                
                updateMetric('cpa-value', cpa.value?.amount || 'Connecting...',
                           'cpa-change', cpa.value?.trend || 'AI platform initializing...');

                // Load campaign details
                await loadCampaignDetails();
                await loadAIInsights();
                await loadMarketingAnalytics();

            } catch (error) {
                console.error('Error loading marketing data:', error);
                showMarketingError();
            }
        }

        async function loadCampaignDetails() {
            try {
                const campaigns = await fetchMarketingAPI('/api/campaigns/details');
                
                document.getElementById('campaign-1-status').textContent = 
                    campaigns?.docusignCompetitor || 'Connecting to AI platform...';
                document.getElementById('campaign-2-status').textContent = 
                    campaigns?.enterpriseLeads || 'Connecting to AI platform...';
                document.getElementById('campaign-3-status').textContent = 
                    campaigns?.smbAcquisition || 'Connecting to AI platform...';
            } catch (error) {
                console.error('Error loading campaign details:', error);
            }
        }

        async function loadAIInsights() {
            try {
                const insights = await fetchMarketingAPI('/api/ai/insights');
                
                document.getElementById('revenue-forecast').textContent = 
                    insights?.revenueForecast || 'AI model training...';
                document.getElementById('lead-scoring').textContent = 
                    insights?.leadScoring || 'AI model training...';
                document.getElementById('optimization-recs').textContent = 
                    insights?.optimizations || 'AI model training...';
            } catch (error) {
                console.error('Error loading AI insights:', error);
            }
        }

        async function loadMarketingAnalytics() {
            try {
                const analytics = await fetchMarketingAPI('/api/analytics/realtime');
                
                document.getElementById('traffic-attribution').textContent = 
                    analytics?.trafficAttribution || 'Connecting to analytics...';
                document.getElementById('social-monitoring').textContent = 
                    analytics?.socialMonitoring || 'Connecting to analytics...';
                document.getElementById('competitive-intel').textContent = 
                    analytics?.competitiveIntel || 'Connecting to analytics...';
            } catch (error) {
                console.error('Error loading marketing analytics:', error);
            }
        }

        async function loadUserData() {
            try {
                const userData = await fetchWithFallback('/api/users/pending');
                document.getElementById('pending-registrations').textContent = 
                    userData?.pendingCount ? `${userData.pendingCount} users awaiting approval` : 'Loading user data...';
            } catch (error) {
                console.error('Error loading user data:', error);
            }
        }

        async function loadSystemData() {
            // Check AI Marketing Platform status
            checkMarketingPlatformStatus();
        }

        async function checkMarketingPlatformStatus() {
            try {
                const response = await fetch(`${API_CONFIG.marketingPlatform}/health`, {
                    method: 'GET',
                    timeout: 5000
                });
                
                const statusIndicator = document.getElementById('marketing-status');
                const statusText = document.getElementById('marketing-status-text');
                
                if (response.ok) {
                    statusIndicator.className = 'status-indicator operational';
                    statusText.textContent = 'operational';
                    statusText.style.color = '#10b981';
                } else {
                    statusIndicator.className = 'status-indicator warning';
                    statusText.textContent = 'degraded';
                    statusText.style.color = '#f59e0b';
                }
            } catch (error) {
                const statusIndicator = document.getElementById('marketing-status');
                const statusText = document.getElementById('marketing-status-text');
                
                statusIndicator.className = 'status-indicator issues';
                statusText.textContent = 'connecting...';
                statusText.style.color = '#ef4444';
            }
        }

        // API helper functions
        async function fetchWithFallback(endpoint) {
            try {
                const response = await fetch(`${API_CONFIG.signovaAPI}${endpoint}`);
                if (!response.ok) throw new Error('API unavailable');
                return await response.json();
            } catch (error) {
                console.warn(`API endpoint ${endpoint} unavailable:`, error);
                return null;
            }
        }

        async function fetchMarketingAPI(endpoint) {
            try {
                const response = await fetch(`${API_CONFIG.marketingPlatform}${endpoint}`);
                if (!response.ok) throw new Error('Marketing API unavailable');
                return await response.json();
            } catch (error) {
                console.warn(`Marketing API endpoint ${endpoint} unavailable:`, error);
                return null;
            }
        }

        function updateMetric(valueId, value, changeId, change) {
            const valueElement = document.getElementById(valueId);
            const changeElement = document.getElementById(changeId);
            
            if (valueElement) valueElement.textContent = value;
            if (changeElement) {
                changeElement.textContent = change;
                changeElement.className = 'metric-change ' + (change.includes('+') ? 'positive' : 
                                                            change.includes('-') ? 'negative' : '');
            }
        }

        function showDataError(section) {
            const errorMessage = 'API connection unavailable - implementing real-time data feeds';
            document.querySelectorAll(`#${section} .metric-value`).forEach(el => {
                el.textContent = 'API Unavailable';
                el.style.color = '#ef4444';
            });
            document.querySelectorAll(`#${section} .metric-change`).forEach(el => {
                el.textContent = errorMessage;
                el.className = 'metric-change error';
            });
        }

        function showMarketingError() {
            const errorMessage = 'Connecting to AI Marketing Platform (45.55.212.255)...';
            document.querySelectorAll('#marketing .metric-value').forEach(el => {
                el.textContent = 'Connecting...';
                el.style.color = '#f59e0b';
            });
            document.querySelectorAll('#marketing .metric-change').forEach(el => {
                el.textContent = errorMessage;
                el.className = 'metric-change loading';
            });
        }

        // Campaign and analytics functions
        function viewCampaign(campaignId) {
            alert(`Opening detailed analytics for campaign: ${campaignId}\nConnecting to AI Marketing Platform for real-time data...`);
        }

        function viewForecast() {
            alert('Opening AI Revenue Forecasting Model\nConnecting to predictive analytics engine...');
        }

        function viewLeadScoring() {
            alert('Opening AI Lead Scoring Analysis\nConnecting to machine learning models...');
        }

        function viewOptimizations() {
            alert('Opening AI Optimization Recommendations\nConnecting to recommendation engine...');
        }

        function viewTraffic() {
            alert('Opening Website Traffic Attribution Analysis\nConnecting to analytics platform...');
        }

        function viewSocial() {
            alert('Opening Social Media Monitoring Dashboard\nConnecting to social listening tools...');
        }

        function viewCompetitors() {
            alert('Opening Competitive Intelligence Analysis\nConnecting to market research platform...');
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Load initial data
            loadTabData('overview');
            
            // Set up auto-refresh
            setInterval(() => {
                const activeTab = document.querySelector('.tab-content.active').id;
                loadTabData(activeTab);
            }, API_CONFIG.refreshInterval);
            
            // Check marketing platform status immediately
            checkMarketingPlatformStatus();
        });
    </script>
</body>
</html>

